---
path: /track-custom-events-with-fathom-analytics
date: 2019-12-31
title: Track Custom Events With Fathom Analytics
tags: ['information', 'learning', 'guide', 'hooks', 'react']
published: true
cover: ./cover.jpg
coverCredit: Photo by Aranxa Esteve on Unsplash
---

At the end of last month (November 2019) I started using [Fathom
Analytics] Do you use Google Analytics (GA) for any of your sites?

I've used it in the past and it gives quite good information about

Want to track what users of your site are clicking and navigating to?

Let's talk about Google Analytics, what is it used for

Tracking Events

Privacy Policy

We're going to use the React context API

```js
import React, { createContext, useContext, useEffect } from 'react';

const AnalyticsContext = createContext({});

export const AnalyticsProvider = ({ children }) => {
  useEffect(() => {
    if (typeof window.fathom === 'undefined') {
      window.fathom = (x, y, z) => {
        console.log(`I'm a fake Fathom`, x, y, z);
      };
    }
  }, []);

  const events = {
    logNavigation: goalId => {
      window.fathom('trackGoal', goalId, 0);
    },
  };
  return (
    <AnalyticsContext.Provider value={events}>
      {children}
    </AnalyticsContext.Provider>
  );
};

export const useAnalytics = () => {
  return useContext(AnalyticsContext);
};
```

As high up the component tree as possible, add the provider.

```js
import { AnalyticsProvider } from '../contexts/fathom-event-tracking';
```

Then use in the areas you want passing in the Fathom Goal you created.

```js
export const NavItems = () => {
  const analytics = useAnalytics();
  return (
    <>
      <NavLink
        href={`#about`}
        onClick={() => analytics.logNavigation('RC4QULF8')}>
        About
      </NavLink>
      <NavLink
        href={`#portfolio`}
        onClick={() => analytics.logNavigation('H9UEFCBF')}>
        Portfolio
      </NavLink>
    </>
  );
};
```

[fathom analytics]: https://usefathom.com/
[for a $10 discount on your first invoice]:
  https://usefathom.com/ref/HG492L
